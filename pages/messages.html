<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Messages • CampusLearn™</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
    <link href="assets/css/styles.css" rel="stylesheet">
    <link rel="icon" href="/assets/images/Favicon.png" type="image/x-icon">
     <script src = "../assets/js/nav.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom sticky-top">
      <div class="container">
        <a class="navbar-brand fw-bold" href="../index.html">CampusLearn<span class="text-primary">™</span></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#clNav" aria-controls="clNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="clNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link" href="topics.html">Topics</a></li>
            <li class="nav-item"><a class="nav-link" href="forum.html">Forum</a></li>
            <li class="nav-item"><a class="nav-link" href="resources.html">Resources</a></li>
            <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
            <li class="nav-item"><a class="nav-link" href="notifications.html">Notifications</a></li>
            <li class="nav-item"><a class="nav-link active" href="messages.html">Messages</a></li>
          </ul>
          <div class="d-flex gap-2">
            <a href="login.html" class="btn btn-outline-primary btn-sm">Log out</a>
            <a href="profile.html" class="btn btn-primary btn-sm">My Profile</a>
          </div>
        </div>
      </div>
    </nav>

    <main class="container my-4">
      <h1 class="h4 mb-4">Messages</h1>

      <section id="clConversationFilters" class="mb-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Filter Conversations</h5>
            <form class="row g-3">
              <div class="col-md-4">
                <select class="form-select">
                  <option value="">All Contacts</option>
                  <option value="tutor">Tutors</option>
                  <option value="student">Students</option>
                </select>
              </div>
              <div class="col-md-4">
                <select class="form-select">
                  <option value="">All Modules</option>
                  <option value="SE202">SE202</option>
                  <option value="DB101">DB101</option>
                  <option value="ITM300">ITM300</option>
                </select>
              </div>
              <div class="col-md-4">
                <select class="form-select">
                  <option value="">All Statuses</option>
                  <option value="unread">Unread</option>
                  <option value="archived">Archived</option>
                </select>
              </div>
              <div class="col-12">
                <button type="submit" class="btn btn-primary w-100">Apply Filters</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <div class="row g-3">
        <div class="col-md-4">
          <div class="card h-100">
            <div class="card-header">Conversations</div>
            <div class="list-group list-group-flush">
              <a class="list-group-item list-group-item-action active" href="#">Tutor A • SE202 <span class="badge text-bg-primary">2 unread</span></a>
              <a class="list-group-item list-group-item-action" href="#">Tutor B • DB101</a>
              <a class="list-group-item list-group-item-action" href="#">Student C • ITM300</a>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
              <span><strong>Tutor A</strong> • Private thread</span>
              <div class="btn-group btn-group-sm">
                <button class="btn btn-outline-secondary"><i class="fa-solid fa-file-pdf me-2"></i>Attach PDF</button>
                <button class="btn btn-outline-secondary"><i class="fa-solid fa-link me-2"></i>Attach Link</button>
              </div>
            </div>
            <div class="card-body" style="height: 380px; overflow:auto;">
              <div class="mb-3"><span class="badge text-bg-light">Today 09:20</span></div>
              <div class="d-flex flex-column gap-2">
                <div class="p-2 bg-light rounded">Hello! How can I help with sequence diagrams?</div>
                <div class="align-self-end p-2 bg-primary text-white rounded" style="max-width: 80%;">I’m struggling with activation bars vs lifelines.</div>
                <div class="p-2 bg-light rounded">Activation bars show when an object is active, while lifelines represent the object’s existence. Want a diagram example?</div>
                <div class="align-self-end p-2 bg-primary text-white rounded" style="max-width: 80%;">Yes, please!</div>
              </div>
            </div>
            <div class="card-footer">
              <form class="d-flex gap-2" id="messageForm">
                <input class="form-control" placeholder="Write a message…" id="messageInput">
                <button class="btn btn-primary" type="button" onclick="sendMessage()">Send</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <section id="clNewMessage" class="mt-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Start New Conversation</h5>
            <form class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Recipient</label>
                <select class="form-select">
                  <option value="">Select a recipient</option>
                  <option value="tutor_a">Tutor A</option>
                  <option value="tutor_b">Tutor B</option>
                  <option value="student_c">Student C</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Module</label>
                <select class="form-select">
                  <option value="">Select a module</option>
                  <option value="SE202">SE202</option>
                  <option value="DB101">DB101</option>
                  <option value="ITM300">ITM300</option>
                </select>
              </div>
              <div class="col-12">
                <label class="form-label">Message</label>
                <textarea class="form-control" rows="3" placeholder="Write your message…"></textarea>
              </div>
              <div class="col-12">
                <button class="btn btn-primary" type="submit">Start Conversation</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <section id="clMessageArchive" class="mt-4">
        <h2 class="h5 mb-3">Message Archive</h2>
        <div class="list-group">
          <a class="list-group-item list-group-item-action" href="#">Tutor C • ITM300 • Project Planning Discussion • 5 days ago</a>
          <a class="list-group-item list-group-item-action" href="#">Student D • DB101 • SQL Query Help • 1 week ago</a>
        </div>
        <button class="btn btn-outline-secondary w-100 mt-3">Load More</button>
      </section>

      <section id="clMessageNotifications" class="mt-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Message Notification Settings</h5>
            <form>
              <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="emailMessages" checked>
                <label class="form-check-label" for="emailMessages">Receive email notifications for new messages</label>
              </div>
              <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="inAppMessages" checked>
                <label class="form-check-label" for="inAppMessages">Receive in-app notifications for new messages</label>
              </div>
              <button class="btn btn-primary btn-sm">Save Settings</button>
            </form>
          </div>
        </div>
      </section>

      <section id="clPlatformMessages" class="mt-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Platform Announcements</h5>
            <ul class="list-unstyled small">
              <li><i class="fa-solid fa-bullhorn me-2"></i>New messaging feature added • Today 08:00 AM</li>
              <li><i class="fa-solid fa-bullhorn me-2"></i>System maintenance scheduled • Yesterday</li>
              <li><i class="fa-solid fa-bullhorn me-2"></i>Tutor applications open • 3 days ago</li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <footer class="mt-5 py-4 border-top">
      <div class="container text-center text-muted small">
        <div>© 2025 CampusLearn™ – Peer-Powered Learning for Belgium Campus</div>
        <div class="mt-2">Prototype demo. Not connected to real services.</div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/app.js"></script>
    <script>
      function sendMessage() {
        const messageInput = document.getElementById('messageInput');
        const message = messageInput.value.trim();
        if (message) {
          const messageContainer = document.querySelector('.card-body .d-flex.flex-column');
          const newMessage = document.createElement('div');
          newMessage.className = 'align-self-end p-2 bg-primary text-white rounded';
          newMessage.style.maxWidth = '80%';
          newMessage.textContent = message;
          messageContainer.appendChild(newMessage);
          messageInput.value = '';
          messageContainer.scrollTop = messageContainer.scrollHeight;
        }
      }
    </script>
  </body>
</html>